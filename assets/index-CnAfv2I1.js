import{t as g,r as f,_ as n,a as _,s as y}from"./index-BIML_LO1.js";import{i as N,k as b,r as c,j as e}from"./vendor-CWQ_kcPY.js";import{I as a,t as v}from"./index-CpkLUTZu.js";function A(){const d=N(s=>s.todos),t=b(),l=[],x=async(s,p)=>{const u=Object.fromEntries(p),o=await v.safeParseAsync(u);if(o.success){const{content:h,done:j}=o.data;t(_(h,j));const i=y.getState().todos;return console.log(s,"=>",i),i}throw o.error},[r,m]=c.useActionState(x,l);return c.useEffect(()=>{console.log("useActionState",r)},[r]),e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"flex flex-col gap-2",children:d.map(s=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{className:"border",type:"checkbox",checked:s.done,onChange:()=>t(g(s.id))}),e.jsx("span",{style:{textDecoration:s.done?"line-through":"none"},children:s.content}),e.jsx("button",{onClick:()=>t(f(s.id)),children:"Delete"})]},s.id))}),e.jsx("div",{className:"space-y-4",children:e.jsxs("form",{action:m,className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"content",className:"border"}),e.jsx("input",{type:"radio",name:"done"}),e.jsx("button",{type:"submit",children:"Add todo"})]})}),e.jsxs("div",{className:"flex justify-between gap-12",children:[e.jsxs("div",{children:[e.jsx("p",{className:"bg-green-200",children:"@/stores/redux/index.ts"}),e.jsx(a,{dynamicRawImport:()=>n(()=>import("./index-Bc4Qhikb.js"),[]),showLineNo:!0,lang:"typescript"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"bg-green-200",children:"@/stores/redux/todos/index.ts"}),e.jsx(a,{dynamicRawImport:()=>n(()=>import("./index-BzHsH93s.js"),[]),showLineNo:!0,lang:"typescript"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"bg-green-200",children:"@/pages/redux/index.tsx"}),e.jsx(a,{dynamicRawImport:()=>n(()=>import("./index-PyavdfyE.js"),[]),showLineNo:!0,lang:"tsx"})]})]})]})}export{A as default};
