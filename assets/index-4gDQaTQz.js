import{_ as b}from"./index-DQWwU2-N.js";import{l as v,r as m,j as e}from"./vendor-BIbJKmDe.js";import{I as N,t as _}from"./index-k38Q5PoR.js";const i=v((r,c)=>({todos:[],addTodo:(n,s)=>r(t=>({todos:[...t.todos,{id:Date.now(),content:n,done:s}]})),toggleTodo:n=>r(s=>({todos:s.todos.map(t=>t.id===n?{...t,done:!t.done}:t)})),removeTodo:n=>r(s=>({todos:s.todos.filter(t=>t.id!==n)})),getTodos:()=>c().todos}));function S(){const{todos:r,addTodo:c,toggleTodo:n,removeTodo:s,getTodos:t}=i(),x=i(o=>o.todos.filter(d=>d.done).length),p=i(o=>o.todos.filter(d=>!d.done).length),h=[],f=async(o,d)=>{const j=Object.fromEntries(d),a=await _.safeParseAsync(j);if(a.success){const{content:T,done:y}=a.data;c(T,y);const u=t();return console.log(o,"=>",u),u}throw a.error},[l,g]=m.useActionState(f,h);return m.useEffect(()=>{console.log("useActionState",l)},[l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Done todos count: ",x]}),e.jsxs("div",{children:["Undone todos count: ",p]}),e.jsx("ul",{className:"flex flex-col gap-2",children:r.map(o=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{className:"border",type:"checkbox",checked:o.done,onChange:()=>n(o.id)}),e.jsx("span",{style:{textDecoration:o.done?"line-through":"none"},children:o.content}),e.jsx("button",{onClick:()=>s(o.id),children:"Delete"})]},o.id))}),e.jsx("div",{className:"space-y-4",children:e.jsxs("form",{action:g,className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"content",className:"border"}),e.jsx("input",{type:"radio",name:"done"}),e.jsx("button",{type:"submit",children:"Add todo"})]})}),e.jsx("div",{className:"bg-green-200",children:"@/stores/zustand/index.ts"}),e.jsx(N,{dynamicRawImport:()=>b(()=>import("./index-T71AP_ET.js"),[]),showLineNo:!0,lang:"typescript"})]})}export{S as default};
