import{_ as m}from"./index-BIML_LO1.js";import{l as N,r as u,j as e}from"./vendor-CWQ_kcPY.js";import{I as p,t as b}from"./index-CpkLUTZu.js";const c=N((r,a)=>({todos:[],addTodo:(s,n)=>r(t=>({todos:[...t.todos,{id:Date.now(),content:s,done:n}]})),toggleTodo:s=>r(n=>({todos:n.todos.map(t=>t.id===s?{...t,done:!t.done}:t)})),removeTodo:s=>r(n=>({todos:n.todos.filter(t=>t.id!==s)})),getTodos:()=>a().todos}));function I(){const{todos:r,addTodo:a,toggleTodo:s,removeTodo:n,getTodos:t}=c(),h=c(o=>o.todos.filter(d=>d.done).length),g=c(o=>o.todos.filter(d=>!d.done).length),j=[],f=async(o,d)=>{const _=Object.fromEntries(d),i=await b.safeParseAsync(_);if(i.success){const{content:y,done:v}=i.data;a(y,v);const x=t();return console.log(o,"=>",x),x}throw i.error},[l,T]=u.useActionState(f,j);return u.useEffect(()=>{console.log("useActionState",l)},[l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Done todos count: ",h]}),e.jsxs("div",{children:["Undone todos count: ",g]}),e.jsx("ul",{className:"flex flex-col gap-2",children:r.map(o=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{className:"border",type:"checkbox",checked:o.done,onChange:()=>s(o.id)}),e.jsx("span",{style:{textDecoration:o.done?"line-through":"none"},children:o.content}),e.jsx("button",{onClick:()=>n(o.id),children:"Delete"})]},o.id))}),e.jsx("div",{className:"space-y-4",children:e.jsxs("form",{action:T,className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"content",className:"border"}),e.jsx("input",{type:"radio",name:"done"}),e.jsx("button",{type:"submit",children:"Add todo"})]})}),e.jsxs("div",{className:"flex justify-between gap-12",children:[e.jsxs("div",{children:[e.jsx("p",{className:"bg-green-200",children:"@/stores/zustand/index.ts"}),e.jsx(p,{dynamicRawImport:()=>m(()=>import("./index-T71AP_ET.js"),[]),showLineNo:!0,lang:"typescript"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"bg-green-200",children:"@/pages/zustand/index.tsx"}),e.jsx(p,{dynamicRawImport:()=>m(()=>import("./index-DOax4DHl.js"),[]),showLineNo:!0,lang:"tsx"})]})]})]})}export{I as default};
