import{_ as N}from"./index-CJJBnSF2.js";import{e as r,f as l,g as m,h as _,r as p,j as o}from"./vendor-BIbJKmDe.js";import{I as S,t as w}from"./index-k38Q5PoR.js";const s=r([]),C=r(null,(t,e,a,d)=>{const n=t(s);e(s,[...n,{id:Date.now(),content:a,done:d}])}),E=r(null,(t,e,a)=>{const d=t(s);e(s,d.map(n=>n.id===a?{...n,done:!n.done}:n))}),D=r(null,(t,e,a)=>{const d=t(s);e(s,d.filter(n=>n.id!==a))}),I=r(t=>t(s).filter(e=>e.done).length),k=r(t=>t(s).filter(e=>!e.done).length);function O(){const t=l(s),e=l(I),a=l(k),d=m(C),n=m(E),h=m(D),f=_(),g=[],j=async(c,T)=>{const y=Object.fromEntries(T),i=await w.safeParseAsync(y);if(i.success){const{content:b,done:v}=i.data;d(b,v);const x=f.get(s);return console.log(c,"=>",x),x}throw i.error},[u,A]=p.useActionState(j,g);return p.useEffect(()=>{console.log("useActionState",u)},[u]),o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:["Done todos count: ",e]}),o.jsxs("div",{children:["Undone todos count: ",a]}),o.jsx("ul",{className:"flex flex-col gap-2",children:t.map(c=>o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("input",{className:"border",type:"checkbox",checked:c.done,onChange:()=>n(c.id)}),o.jsx("span",{style:{textDecoration:c.done?"line-through":"none"},children:c.content}),o.jsx("button",{onClick:()=>h(c.id),children:"Delete"})]},c.id))}),o.jsx("div",{className:"space-y-4",children:o.jsxs("form",{action:A,className:"flex gap-2",children:[o.jsx("input",{type:"text",name:"content",className:"border"}),o.jsx("input",{type:"radio",name:"done"}),o.jsx("button",{type:"submit",children:"Add todo"})]})}),o.jsx("div",{className:"bg-green-200",children:"@/stores/jotai/index.ts"}),o.jsx(S,{dynamicRawImport:()=>N(()=>import("./index-D4y132no.js"),[]),showLineNo:!0,lang:"typescript"})]})}export{O as default};
